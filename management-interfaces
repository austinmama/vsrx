---

copyright:
  years: 2020
lastupdated: "2020-07-29"

keywords:

subcollection: vsrx, firewalls, working, policy, policies, rules, zones, standalone, ha

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank_"}
{:codeblock: .codeblock}
{:pre: .pre}
{:screen: .screen}
{:tip: .tip}
{:download: .download}
{:note: .note}
{:important: .important}

# Configuring the Management Interfaces
{: #config-mgmt-interfaces}

The {{site.data.keyword.vsrx_full}} nodes provides built-in management interfaces "fxp0" that are not configured by default. When configured, these private interfaces can be used to communicate with the individual node. This may be useful in a High Availability cluster for monitoring the status of the secondary node over SSH, ping, SNMP, etc. Since the private IP for the vSRX floats to the primary node directly accessing the secondary node is otherwise not possible.

Configuration of the fxp0 interface requires IPs in a subnet that is attached to the private transit VLAN for the Gateway. Although the primary subnet that comes with the Gateway has IP's that may be available, it is not recommended for this use, since this subnet is reserved for use by the Gateway provisioning infrastruture, and IP collisions could occur if additional Gateway's are deployed in the same pod. This article discusses a method for allocating a secondary subnet for the private transit VLAN, and using IP's from this subnet to configure fxp0 and the host bridge interface for PING and SSH access.

1. Order a portable private subnet and assign it to the vSRX private transit VLAN. You can find the private transit VLAN on the Gateway details page.

Order Form: https://cloud.ibm.com/classic/network/subnet/provision

NOTE: Ensure the portable subnet includes at least 8 addresses in order to support 2 IP's for the host bridge interfaces and 2 IP's for the vSRX fxp0 interfaces.

2. Configure the host br0:0 bridge interfaces using 2 IP's from the new subnet. For example:

On bare-metal Ubuntu host 0: `ifconfig br0:0 10.177.75.140 netmask 255.255.255.248`
On bare-metal Ubuntu host 1: `ifconfig br0:0 10.177.75.141 netmask 255.255.255.248`

3. Persist the bridge interface configurations across reboots.

Modify /etc/network/interfaces on each Ubuntu host. For example:

```
auto br0:0
iface br0:0 inet static
address 10.177.75.140 
netmask 255.255.255.248
post-up /sbin/ifconfig br0:0 10.177.75.140 netmask 255.255.255.248
```

4. Assign the 2 IP's to the vSRX fxp0 interface and create backup router configuration's for access to the secondary node's fxp0 interface. For example:

```
set groups node0 interfaces fxp0 unit 0 family inet address 10.177.75.138/29
set groups node1 interfaces fxp0 unit 0 family inet address 10.177.75.139/29
set groups node0 system backup-router 10.177.75.137 destination [ 0.0.0.0/1 128.0.0.0/1 ]
set groups node1 system backup-router 10.177.75.137 destination [ 0.0.0.0/1 128.0.0.0/1 ]
```

5. Create a static route to the subnet. For example:

`set routing-options static route 10.177.75.136/29 next-hop 10.177.75.137`

6. Create firewall filters to allow PING and SSH to the fxp0 management interfaces.

```
set firewall filter PROTECT-IN term PING from destination-address 10.177.75.136/29
set firewall filter PROTECT-IN term SSH from destination-address 10.177.75.136/29
```




